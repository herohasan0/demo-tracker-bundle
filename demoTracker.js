'use strict';(function(){function F(){function a(e,n){return e>>>n|e<<32-n}for(var b=1,c,f=[],m=[];18>++b;)for(c=b*b;312>c;c+=b)f[c]=1;b=1;for(c=0;313>b;)f[++b]||(m[c]=Math.pow(b,.5)%1*4294967296|0,f[c++]=Math.pow(b,1/3)%1*4294967296|0);return function(e){for(var n=m.slice(b=0),h=unescape(encodeURI(e)),p=[],k=h.length,l=[],g,d;b<k;)l[b>>2]|=(h.charCodeAt(b)&255)<<8*(3-b++%4);k*=8;l[k>>5]|=128<<24-k%32;l[d=k+64>>5|15]=k;for(b=0;b<d;b+=16){for(h=n.slice(c=0,8);64>c;h[4]+=g)p[c]=16>c?l[c+b]:(a(g=p[c-
2],17)^a(g,19)^g>>>10)+(p[c-7]|0)+(a(g=p[c-15],7)^a(g,18)^g>>>3)+(p[c-16]|0),h.unshift((g=(h.pop()+(a(e=h[4],6)^a(e,11)^a(e,25))+((e&h[5]^~e&h[6])+f[c])|0)+(p[c++]|0))+(a(k=h[0],2)^a(k,13)^a(k,22))+(k&h[1]^h[1]&h[2]^h[2]&k));for(c=8;c--;)n[c]=h[c]+n[c]}for(h="";63>c;)h+=(n[++c>>3]>>4*(7-c%8)&15).toString(16);console.log("s",h);return h}}function w(a,b,c,f){function m(e){return e instanceof c?e:new c(function(n){n(e)})}return new (c||(c=Promise))(function(e,n){function h(l){try{k(f.next(l))}catch(g){n(g)}}
function p(l){try{k(f["throw"](l))}catch(g){n(g)}}function k(l){l.done?e(l.value):m(l.value).then(h,p)}k((f=f.apply(a,b||[])).next())})}function u(a){var b=Object,c=b.assign;a=Object.assign({company_id:"b2m_test_website",company_app_name:"b2metric website",task_id:"TRACKER-TEST"},a);var f=navigator.userAgent,m=x,e=JSON.stringify(y),n=String(G.getTimezoneOffset()),h=Intl.DateTimeFormat().resolvedOptions().timeZone,p=`${window.screen.width}x${window.screen.height}x${window.screen.colorDepth}`,k=z,l=
String,g=document.createElement("canvas");g.id="myCanvas";g.hidden=!0;g.width=200;g.height=40;document.body.appendChild(g);g=document.getElementById("myCanvas");console.log("canvas",g);var d=g.getContext("2d");d.fillStyle="rgb(255,0,255)";d.beginPath();d.rect(20,20,150,100);d.fill();d.stroke();d.closePath();d.beginPath();d.fillStyle="rgb(0,255,255)";d.arc(50,50,50,0,2*Math.PI,!0);d.fill();d.stroke();d.closePath();d.textBaseline="top";d.font='17px "Arial 17"';d.textBaseline="alphabetic";d.fillStyle=
"rgb(255,5,5)";d.rotate(.03);d.fillText("abz190#$%^@\u00a3\u00e9\u00fa",4,17);d.fillStyle="rgb(155,255,5)";d.shadowBlur=8;d.shadowColor="red";d.fillRect(20,12,100,5);g=g.toDataURL();d=0;for(var q=0;q<g.length;q++){let H=g.charCodeAt(q);d=(d<<5)-d+H;d&=d}l=l(d);g=F()(A);a:{d=document.createElement("canvas");d.id="webGLCanvas";d.hidden=!0;document.body.appendChild(d);if((null===window||void 0===window?0:window.WebGLRenderingContext)&&((null===d||void 0===d?0:d.getContext("webgl"))||(null===d||void 0===
d?0:d.getContext("experimental-webgl")))&&(d=document.getElementById("webGLCanvas"),q=d.getContext("webgl")||d.getContext("experimental-webgl"))){d=q.getParameter(q.VENDOR);q=q.getParameter(q.RENDERER);d=`${d} ${q}`;break a}d=null}b=c.call(b,a,{user_browser_info:{user_agent:f,http_accept_headers:m,plugins:e,timezone_offset:n,timezone:h,screen:p,system_fonts:k,hash_of_canvas_fingerprint:l,hash_of_webgl_fingerprint:g,webgl_vendor_renderer:d,dnt_header_enabled:!0,language:navigator.language,platform:navigator.platform,
touch_support:String(I),audio_context_fingerprint:B,hardware_concurrency:navigator.hardwareConcurrency,device_memory:navigator.deviceMemory}});fetch("https://tracker.b2metric.com/tracker/tracker/callback",{cache:"no-cache",redirect:"follow",referrerPolicy:"no-referrer",mode:"no-cors",credentials:"include",headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(b),keepalive:!0});b=new Blob([JSON.stringify(b)],{type:"application/json"});navigator.sendBeacon("https://tracker.b2metric.com/tracker/tracker/callback",
b)}function J(){return"xxxx-xxxx-xxxx-xxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}function C(){r||(D=Date.now(),r=!0)}function v(){r&&(0<Date.now()-D&&(new Date).toISOString(),r=!1)}var K=function(){function a(p,k){void 0!==e[p]&&"function"===typeof e[p].setValueAtTime&&e[p].setValueAtTime(k,c.currentTime)}function b(p){for(var k=null,l=4500;5E3>l;l++){var g=p.renderedBuffer.getChannelData(0)[l];k+=Math.abs(g)}n=k.toString();"function"===typeof h&&h(n);e.disconnect()}var c=null,f=
null,m=null,e=null,n=null,h=null;return{run:function(p,k=!1){h=p;try{c=new (window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,44100,44100),f=c.currentTime,m=c.createOscillator(),m.type="triangle",m.frequency.setValueAtTime(1E4,f),e=c.createDynamicsCompressor(),a("threshold",-50),a("knee",40),a("ratio",12),a("reduction",-20),a("attack",0),a("release",.25),m&&e&&c&&(m.connect(e),e.connect(c.destination),m.start(0),c.startRendering(),c.oncomplete=b)}catch(l){if(k)throw l;}}}}();let B="";
(()=>{K.run(a=>{B=a})})();let I="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||0<navigator.maxTouchPoints||0<window.navigator.msMaxTouchPoints,A="";(()=>{var a=document.createElement("canvas");document.body.appendChild(a);a.width=256;a.height=128;a.hidden=!0;a=a.getContext("webgl2")||a.getContext("experimental-webgl2")||a.getContext("webgl")||a.getContext("experimental-webgl")||a.getContext("moz-webgl");try{var b=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,
b);var c=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.7321,0]);a.bufferData(a.ARRAY_BUFFER,c,a.STATIC_DRAW);b.itemSize=3;b.numItems=3;var f=a.createProgram(),m=a.createShader(a.VERTEX_SHADER);a.shaderSource(m,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}");a.compileShader(m);var e=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(e,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}");
a.compileShader(e);a.attachShader(f,m);a.attachShader(f,e);a.linkProgram(f);a.useProgram(f);f.vertexPosAttrib=a.getAttribLocation(f,"attrVertex");f.offsetUniform=a.getUniformLocation(f,"uniformOffset");a.enableVertexAttribArray(f.vertexPosArray);a.vertexAttribPointer(f.vertexPosAttrib,b.itemSize,a.FLOAT,!1,0,0);a.uniform2f(f.offsetUniform,1,1);a.drawArrays(a.TRIANGLE_STRIP,0,b.numItems)}catch(n){}b=new Uint8Array(131072);a.readPixels(0,0,256,128,a.RGBA,a.UNSIGNED_BYTE,b);A=JSON.stringify(b).replace(/,?"[0-9]+":/g,
"")})();"function"===typeof SuppressedError?SuppressedError:function(a,b,c){c=Error(c);return c.name="SuppressedError",c.error=a,c.suppressed=b,c};let E=new Set("Arial;Arial Black;Bahnschrift;Calibri;Cambria;Cambria Math;Candara;Comic Sans MS;Consolas;Constantia;Corbel;Courier New;Ebrima;Franklin Gothic Medium;Gabriola;Gadugi;Georgia;HoloLens MDL2 Assets;Impact;Ink Free;Javanese Text;Leelawadee UI;Lucida Console;Lucida Sans Unicode;Malgun Gothic;Marlett;Microsoft Himalaya;Microsoft JhengHei;Microsoft New Tai Lue;Microsoft PhagsPa;Microsoft Sans Serif;Microsoft Tai Le;Microsoft YaHei;Microsoft Yi Baiti;MingLiU-ExtB;Mongolian Baiti;MS Gothic;MV Boli;Myanmar Text;Nirmala UI;Palatino Linotype;Segoe MDL2 Assets;Segoe Print;Segoe Script;Segoe UI;Segoe UI Historic;Segoe UI Emoji;Segoe UI Symbol;SimSun;Sitka;Sylfaen;Symbol;Tahoma;Times New Roman;Trebuchet MS;Verdana;Webdings;Wingdings;Yu Gothic;American Typewriter;Andale Mono;Arial;Arial Black;Arial Narrow;Arial Rounded MT Bold;Arial Unicode MS;Avenir;Avenir Next;Avenir Next Condensed;Baskerville;Big Caslon;Bodoni 72;Bodoni 72 Oldstyle;Bodoni 72 Smallcaps;Bradley Hand;Brush Script MT;Chalkboard;Chalkboard SE;Chalkduster;Charter;Cochin;Comic Sans MS;Copperplate;Courier;Courier New;Didot;DIN Alternate;DIN Condensed;Futura;Geneva;Georgia;Gill Sans;Helvetica;Helvetica Neue;Herculanum;Hoefler Text;Impact;Lucida Grande;Luminari;Marker Felt;Menlo;Microsoft Sans Serif;Monaco;Noteworthy;Optima;Palatino;Papyrus;Phosphate;Rockwell;Savoye LET;SignPainter;Skia;Snell Roundhand;Tahoma;Times;Times New Roman;Trattatello;Trebuchet MS;Verdana;Zapfino".split(";").sort());
(()=>w(void 0,void 0,void 0,function*(){yield document.fonts.ready;let a=new Set;for(let b of E.values())document.fonts.check(`12px "${b}"`)&&a.add(b);console.log("Available Fonts:",[...a.values()]);[...a.values()]}))();let L=navigator.plugins.length,y=[];for(let a=0;a<L;a++){let b=navigator.plugins[a];y.push({name:b.name,filename:b.filename,type:b[0].type})}window.B2MetricEventTracker=window.B2MetricEventTracker||[];window.B2MetricEventTracker=[];let G=new Date,z=[];(function(){return w(this,void 0,
void 0,function*(){yield document.fonts.ready;let a=new Set;for(let b of E.values())document.fonts.check(`12px "${b}"`)&&a.add(b);return[...a.values()]})})().then(a=>z=a);let x=null;var t=new XMLHttpRequest;t.open("GET",document.location,!0);t.send(null);t.onload=function(){x=t.getAllResponseHeaders().toLowerCase()};let D,r=!1;document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState?C():v()});(function(){function a(){f=Date.now();m=0}function b(){let e=Date.now();m+=
e-f;f=e}let c=!1,f=Date.now(),m=0;window.addEventListener("load",a);document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState?a():b()});document.addEventListener("scroll",function(e){c||(b(),90<=(window.scrollY+window.innerHeight)/document.documentElement.offsetHeight*100&&(u({event_name:"scroll",event_date:(new Date).toISOString(),event_timestamp:(new Date).valueOf(),event_params:[{key:"page_title",string_value:document.title},{key:"engagement_time_msec",int_value:m},
{key:"timestamp",int_value:(new Date).toISOString()}]}),a(),c=!0))})})();(function(){document.addEventListener("click",a=>{for(a=a.target;a&&a!==document.body;){if(a.hasAttribute("B2M_BUTTON")){u({event_name:"click",event_date:(new Date).toISOString(),event_timestamp:Math.floor((new Date).getTime()/1E3),event_params:[{key:"page_title",string_value:document.title},{key:"classes",string_value:a.className},{key:"id",string_value:a.id},{key:"tag_name",string_value:a.tagName},{key:"inner_text",string_value:a.innerText.slice(0,
50)}]});break}a=a.parentElement}})})();document.addEventListener("DOMContentLoaded",()=>{{var a=localStorage.getItem("sessionId");let m=parseInt(localStorage.getItem("lastActivity")||"0");var b=Date.now();!a||18E5<b-m?(a=J(),localStorage.setItem("sessionId",a),localStorage.setItem("lastActivity",b.toString()),b={sessionId:a,isNewSession:!0}):(localStorage.setItem("lastActivity",b.toString()),b={sessionId:a,isNewSession:!1})}const {sessionId:c,isNewSession:f}=b;b={eventType:"session_start",timestamp:(new Date).toISOString(),
details:{sessionId:c}};f&&Object.assign(Object.assign({},b),{details:{sessionId:c}});document.addEventListener("focus",C);document.addEventListener("blur",v);document.addEventListener("beforeunload",v);u({event_name:"page_view",event_date:(new Date).toISOString(),event_timestamp:(new Date).valueOf(),event_params:[{key:"page_title",string_value:document.title},{key:"page_url",string_value:location.href},{key:"referrer",string_value:document.referrer}]})})})()
