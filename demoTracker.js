'use strict';(function(){function u(a,c,d,k){function h(e){return e instanceof d?e:new d(function(n){n(e)})}return new (d||(d=Promise))(function(e,n){function p(g){try{l(k.next(g))}catch(f){n(f)}}function m(g){try{l(k["throw"](g))}catch(f){n(f)}}function l(g){g.done?e(g.value):h(g.value).then(p,m)}l((k=k.apply(a,c||[])).next())})}function v(a){var c=Object,d=c.assign;a=Object.assign({company_id:"b2m_test_website",company_app_name:"b2metric website",task_id:"TRACKER-TEST"},a);var k=navigator.userAgent,
h=w,e=JSON.stringify(x),n=String(C.getTimezoneOffset()),p=Intl.DateTimeFormat().resolvedOptions().timeZone,m=`${window.screen.width}x${window.screen.height}x${window.screen.colorDepth}`,l=y,g=String,f=document.createElement("canvas");f.id="myCanvas";f.hidden=!0;f.width=200;f.height=40;document.body.appendChild(f);f=document.getElementById("myCanvas");console.log("canvas",f);var b=f.getContext("2d");b.fillStyle="rgb(255,0,255)";b.beginPath();b.rect(20,20,150,100);b.fill();b.stroke();b.closePath();
b.beginPath();b.fillStyle="rgb(0,255,255)";b.arc(50,50,50,0,2*Math.PI,!0);b.fill();b.stroke();b.closePath();b.textBaseline="top";b.font='17px "Arial 17"';b.textBaseline="alphabetic";b.fillStyle="rgb(255,5,5)";b.rotate(.03);b.fillText("abz190#$%^@\u00a3\u00e9\u00fa",4,17);b.fillStyle="rgb(155,255,5)";b.shadowBlur=8;b.shadowColor="red";b.fillRect(20,12,100,5);f=f.toDataURL();b=0;for(let t=0;t<f.length;t++){let D=f.charCodeAt(t);b=(b<<5)-b+D;b&=b}c=d.call(c,a,{user_browser_info:{user_agent:k,http_accept_headers:h,
plugins:e,timezone_offset:n,timezone:p,screen:m,system_fonts:l,hash_of_canvas_fingerprint:g(b),dnt_header_enabled:!0,language:navigator.language,platform:navigator.platform,touch_support:String(E),audio_context_fingerprint:z,hardware_concurrency:navigator.hardwareConcurrency,device_memory:navigator.deviceMemory}});fetch("https://tracker.b2metric.com/tracker/tracker/callback",{cache:"no-cache",redirect:"follow",referrerPolicy:"no-referrer",mode:"no-cors",credentials:"include",headers:{"Content-Type":"application/json"},
method:"POST",body:JSON.stringify(c),keepalive:!0});c=new Blob([JSON.stringify(c)],{type:"application/json"});navigator.sendBeacon("https://tracker.b2metric.com/tracker/tracker/callback",c)}var F=function(){function a(m,l){void 0!==e[m]&&"function"===typeof e[m].setValueAtTime&&e[m].setValueAtTime(l,d.currentTime)}function c(m){for(var l=null,g=4500;5E3>g;g++){var f=m.renderedBuffer.getChannelData(0)[g];l+=Math.abs(f)}n=l.toString();"function"===typeof p&&p(n);e.disconnect()}var d=null,k=null,h=null,
e=null,n=null,p=null;return{run:function(m,l=!1){p=m;try{d=new (window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,44100,44100),k=d.currentTime,h=d.createOscillator(),h.type="triangle",h.frequency.setValueAtTime(1E4,k),e=d.createDynamicsCompressor(),a("threshold",-50),a("knee",40),a("ratio",12),a("reduction",-20),a("attack",0),a("release",.25),h&&e&&d&&(h.connect(e),e.connect(d.destination),h.start(0),d.startRendering(),d.oncomplete=c)}catch(g){if(l)throw g;}}}}();let z="";(()=>{F.run(a=>
{z=a})})();let E="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||0<navigator.maxTouchPoints||0<window.navigator.msMaxTouchPoints;"function"===typeof SuppressedError?SuppressedError:function(a,c,d){d=Error(d);return d.name="SuppressedError",d.error=a,d.suppressed=c,d};let A=new Set("Arial;Arial Black;Bahnschrift;Calibri;Cambria;Cambria Math;Candara;Comic Sans MS;Consolas;Constantia;Corbel;Courier New;Ebrima;Franklin Gothic Medium;Gabriola;Gadugi;Georgia;HoloLens MDL2 Assets;Impact;Ink Free;Javanese Text;Leelawadee UI;Lucida Console;Lucida Sans Unicode;Malgun Gothic;Marlett;Microsoft Himalaya;Microsoft JhengHei;Microsoft New Tai Lue;Microsoft PhagsPa;Microsoft Sans Serif;Microsoft Tai Le;Microsoft YaHei;Microsoft Yi Baiti;MingLiU-ExtB;Mongolian Baiti;MS Gothic;MV Boli;Myanmar Text;Nirmala UI;Palatino Linotype;Segoe MDL2 Assets;Segoe Print;Segoe Script;Segoe UI;Segoe UI Historic;Segoe UI Emoji;Segoe UI Symbol;SimSun;Sitka;Sylfaen;Symbol;Tahoma;Times New Roman;Trebuchet MS;Verdana;Webdings;Wingdings;Yu Gothic;American Typewriter;Andale Mono;Arial;Arial Black;Arial Narrow;Arial Rounded MT Bold;Arial Unicode MS;Avenir;Avenir Next;Avenir Next Condensed;Baskerville;Big Caslon;Bodoni 72;Bodoni 72 Oldstyle;Bodoni 72 Smallcaps;Bradley Hand;Brush Script MT;Chalkboard;Chalkboard SE;Chalkduster;Charter;Cochin;Comic Sans MS;Copperplate;Courier;Courier New;Didot;DIN Alternate;DIN Condensed;Futura;Geneva;Georgia;Gill Sans;Helvetica;Helvetica Neue;Herculanum;Hoefler Text;Impact;Lucida Grande;Luminari;Marker Felt;Menlo;Microsoft Sans Serif;Monaco;Noteworthy;Optima;Palatino;Papyrus;Phosphate;Rockwell;Savoye LET;SignPainter;Skia;Snell Roundhand;Tahoma;Times;Times New Roman;Trattatello;Trebuchet MS;Verdana;Zapfino".split(";").sort());
(()=>u(void 0,void 0,void 0,function*(){yield document.fonts.ready;let a=new Set;for(let c of A.values())document.fonts.check(`12px "${c}"`)&&a.add(c);console.log("Available Fonts:",[...a.values()]);[...a.values()]}))();let G=navigator.plugins.length,x=[];for(let a=0;a<G;a++){let c=navigator.plugins[a];x.push({name:c.name,filename:c.filename,type:c[0].type})}window.B2MetricEventTracker=window.B2MetricEventTracker||[];window.B2MetricEventTracker=[];let C=new Date,y=[];(function(){return u(this,void 0,
void 0,function*(){yield document.fonts.ready;let a=new Set;for(let c of A.values())document.fonts.check(`12px "${c}"`)&&a.add(c);return[...a.values()]})})().then(a=>y=a);let w=null;var q=new XMLHttpRequest;q.open("GET",document.location,!0);q.send(null);q.onload=function(){w=q.getAllResponseHeaders().toLowerCase()};let B,r=!1;document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState?r||(B=Date.now(),r=!0):r&&(0<Date.now()-B&&(new Date).toISOString(),r=!1)});(function(){function a(){k=
Date.now();h=0}function c(){let e=Date.now();h+=e-k;k=e}let d=!1,k=Date.now(),h=0;window.addEventListener("load",a);document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState?a():c()});document.addEventListener("scroll",function(e){d||(c(),90<=(window.scrollY+window.innerHeight)/document.documentElement.offsetHeight*100&&(v({event_name:"scroll",event_date:(new Date).toISOString(),event_timestamp:(new Date).valueOf(),event_params:[{key:"page_title",string_value:document.title},
{key:"engagement_time_msec",int_value:h},{key:"timestamp",int_value:(new Date).toISOString()}]}),a(),d=!0))})})();(function(){document.addEventListener("click",a=>{for(a=a.target;a&&a!==document.body;){if(a.hasAttribute("B2M_BUTTON")){v({event_name:"click",event_date:(new Date).toISOString(),event_timestamp:Math.floor((new Date).getTime()/1E3),event_params:[{key:"page_title",string_value:document.title},{key:"classes",string_value:a.className},{key:"id",string_value:a.id},{key:"tag_name",string_value:a.tagName},
{key:"inner_text",string_value:a.innerText.slice(0,50)}]});break}a=a.parentElement}})})()})()
