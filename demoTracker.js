'use strict';(function(){function L(){function a(f,q){return f>>>q|f<<32-q}for(var c=1,b,m=[],n=[];18>++c;)for(b=c*c;312>b;b+=c)m[b]=1;c=1;for(b=0;313>c;)m[++c]||(n[b]=Math.pow(c,.5)%1*4294967296|0,m[b++]=Math.pow(c,1/3)%1*4294967296|0);return function(f){for(var q=n.slice(c=0),h=unescape(encodeURI(f)),p=[],k=h.length,l=[],g,d;c<k;)l[c>>2]|=(h.charCodeAt(c)&255)<<8*(3-c++%4);k*=8;l[k>>5]|=128<<24-k%32;l[d=k+64>>5|15]=k;for(c=0;c<d;c+=16){for(h=q.slice(b=0,8);64>b;h[4]+=g)p[b]=16>b?l[b+c]:(a(g=p[b-
2],17)^a(g,19)^g>>>10)+(p[b-7]|0)+(a(g=p[b-15],7)^a(g,18)^g>>>3)+(p[b-16]|0),h.unshift((g=(h.pop()+(a(f=h[4],6)^a(f,11)^a(f,25))+((f&h[5]^~f&h[6])+m[b])|0)+(p[b++]|0))+(a(k=h[0],2)^a(k,13)^a(k,22))+(k&h[1]^h[1]&h[2]^h[2]&k));for(b=8;b--;)q[b]=h[b]+q[b]}for(h="";63>b;)h+=(q[++b>>3]>>4*(7-b%8)&15).toString(16);console.log("s",h);return h}}function C(a,c,b,m){function n(f){return f instanceof b?f:new b(function(q){q(f)})}return new (b||(b=Promise))(function(f,q){function h(l){try{k(m.next(l))}catch(g){q(g)}}
function p(l){try{k(m["throw"](l))}catch(g){q(g)}}function k(l){l.done?f(l.value):n(l.value).then(h,p)}k((m=m.apply(a,c||[])).next())})}function y(a){var c=Object,b=c.assign;a=Object.assign({company_id:"b2m_test_website",company_app_name:"b2metric website",task_id:"TRACKER-TEST"},a);var m=navigator.userAgent,n=D,f=JSON.stringify(E),q=String(M.getTimezoneOffset()),h=Intl.DateTimeFormat().resolvedOptions().timeZone,p=`${window.screen.width}x${window.screen.height}x${window.screen.colorDepth}`,k=F,l=
String,g=document.createElement("canvas");g.id="myCanvas";g.hidden=!0;g.width=200;g.height=40;document.body.appendChild(g);g=document.getElementById("myCanvas");console.log("canvas",g);var d=g.getContext("2d");d.fillStyle="rgb(255,0,255)";d.beginPath();d.rect(20,20,150,100);d.fill();d.stroke();d.closePath();d.beginPath();d.fillStyle="rgb(0,255,255)";d.arc(50,50,50,0,2*Math.PI,!0);d.fill();d.stroke();d.closePath();d.textBaseline="top";d.font='17px "Arial 17"';d.textBaseline="alphabetic";d.fillStyle=
"rgb(255,5,5)";d.rotate(.03);d.fillText("abz190#$%^@\u00a3\u00e9\u00fa",4,17);d.fillStyle="rgb(155,255,5)";d.shadowBlur=8;d.shadowColor="red";d.fillRect(20,12,100,5);g=g.toDataURL();d=0;for(var u=0;u<g.length;u++){let N=g.charCodeAt(u);d=(d<<5)-d+N;d&=d}l=l(d);g=L()(G);a:{d=document.createElement("canvas");d.id="webGLCanvas";d.hidden=!0;document.body.appendChild(d);if((null===window||void 0===window?0:window.WebGLRenderingContext)&&((null===d||void 0===d?0:d.getContext("webgl"))||(null===d||void 0===
d?0:d.getContext("experimental-webgl")))&&(d=document.getElementById("webGLCanvas"),u=d.getContext("webgl")||d.getContext("experimental-webgl"))){d=u.getParameter(u.VENDOR);u=u.getParameter(u.RENDERER);d=`${d} ${u}`;break a}d=null}c=b.call(c,a,{user_browser_info:{user_agent:m,http_accept_headers:n,plugins:f,timezone_offset:q,timezone:h,screen:p,system_fonts:k,hash_of_canvas_fingerprint:l,hash_of_webgl_fingerprint:g,webgl_vendor_renderer:d,dnt_header_enabled:!0,language:navigator.language,platform:navigator.platform,
touch_support:String(O),audio_context_fingerprint:H,hardware_concurrency:navigator.hardwareConcurrency,device_memory:navigator.deviceMemory}});fetch("https://tracker.b2metric.com/tracker/tracker/callback",{cache:"no-cache",redirect:"follow",referrerPolicy:"no-referrer",mode:"no-cors",credentials:"include",headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(c),keepalive:!0});c=new Blob([JSON.stringify(c)],{type:"application/json"});navigator.sendBeacon("https://tracker.b2metric.com/tracker/tracker/callback",
c)}function P(){return"xxxx-xxxx-xxxx-xxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}function I(){w||(J=Date.now(),w=!0)}function z(){w&&(0<Date.now()-J&&(new Date).toISOString(),w=!1)}var Q=function(){function a(p,k){void 0!==f[p]&&"function"===typeof f[p].setValueAtTime&&f[p].setValueAtTime(k,b.currentTime)}function c(p){for(var k=null,l=4500;5E3>l;l++){var g=p.renderedBuffer.getChannelData(0)[l];k+=Math.abs(g)}q=k.toString();"function"===typeof h&&h(q);f.disconnect()}var b=null,m=
null,n=null,f=null,q=null,h=null;return{run:function(p,k=!1){h=p;try{b=new (window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,44100,44100),m=b.currentTime,n=b.createOscillator(),n.type="triangle",n.frequency.setValueAtTime(1E4,m),f=b.createDynamicsCompressor(),a("threshold",-50),a("knee",40),a("ratio",12),a("reduction",-20),a("attack",0),a("release",.25),n&&f&&b&&(n.connect(f),f.connect(b.destination),n.start(0),b.startRendering(),b.oncomplete=c)}catch(l){if(k)throw l;}}}}();let H="";
(()=>{Q.run(a=>{H=a})})();let O="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||0<navigator.maxTouchPoints||0<window.navigator.msMaxTouchPoints,G="";var e=document.createElement("canvas");document.body.appendChild(e);e.width=256;e.height=128;e.hidden=!0;e=e.getContext("webgl2")||e.getContext("experimental-webgl2")||e.getContext("webgl")||e.getContext("experimental-webgl")||e.getContext("moz-webgl");try{var r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r);
var v=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.7321,0]);e.bufferData(e.ARRAY_BUFFER,v,e.STATIC_DRAW);r.itemSize=3;r.numItems=3;var t=e.createProgram(),A=e.createShader(e.VERTEX_SHADER);e.shaderSource(A,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}");e.compileShader(A);var B=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(B,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}");
e.compileShader(B);e.attachShader(t,A);e.attachShader(t,B);e.linkProgram(t);e.useProgram(t);t.vertexPosAttrib=e.getAttribLocation(t,"attrVertex");t.offsetUniform=e.getUniformLocation(t,"uniformOffset");e.enableVertexAttribArray(t.vertexPosArray);e.vertexAttribPointer(t.vertexPosAttrib,r.itemSize,e.FLOAT,!1,0,0);e.uniform2f(t.offsetUniform,1,1);e.drawArrays(e.TRIANGLE_STRIP,0,r.numItems)}catch(a){}r=new Uint8Array(131072);e.readPixels(0,0,256,128,e.RGBA,e.UNSIGNED_BYTE,r);G=JSON.stringify(r).replace(/,?"[0-9]+":/g,
"");"function"===typeof SuppressedError?SuppressedError:function(a,c,b){b=Error(b);return b.name="SuppressedError",b.error=a,b.suppressed=c,b};let K=new Set("Arial;Arial Black;Bahnschrift;Calibri;Cambria;Cambria Math;Candara;Comic Sans MS;Consolas;Constantia;Corbel;Courier New;Ebrima;Franklin Gothic Medium;Gabriola;Gadugi;Georgia;HoloLens MDL2 Assets;Impact;Ink Free;Javanese Text;Leelawadee UI;Lucida Console;Lucida Sans Unicode;Malgun Gothic;Marlett;Microsoft Himalaya;Microsoft JhengHei;Microsoft New Tai Lue;Microsoft PhagsPa;Microsoft Sans Serif;Microsoft Tai Le;Microsoft YaHei;Microsoft Yi Baiti;MingLiU-ExtB;Mongolian Baiti;MS Gothic;MV Boli;Myanmar Text;Nirmala UI;Palatino Linotype;Segoe MDL2 Assets;Segoe Print;Segoe Script;Segoe UI;Segoe UI Historic;Segoe UI Emoji;Segoe UI Symbol;SimSun;Sitka;Sylfaen;Symbol;Tahoma;Times New Roman;Trebuchet MS;Verdana;Webdings;Wingdings;Yu Gothic;American Typewriter;Andale Mono;Arial;Arial Black;Arial Narrow;Arial Rounded MT Bold;Arial Unicode MS;Avenir;Avenir Next;Avenir Next Condensed;Baskerville;Big Caslon;Bodoni 72;Bodoni 72 Oldstyle;Bodoni 72 Smallcaps;Bradley Hand;Brush Script MT;Chalkboard;Chalkboard SE;Chalkduster;Charter;Cochin;Comic Sans MS;Copperplate;Courier;Courier New;Didot;DIN Alternate;DIN Condensed;Futura;Geneva;Georgia;Gill Sans;Helvetica;Helvetica Neue;Herculanum;Hoefler Text;Impact;Lucida Grande;Luminari;Marker Felt;Menlo;Microsoft Sans Serif;Monaco;Noteworthy;Optima;Palatino;Papyrus;Phosphate;Rockwell;Savoye LET;SignPainter;Skia;Snell Roundhand;Tahoma;Times;Times New Roman;Trattatello;Trebuchet MS;Verdana;Zapfino".split(";").sort());
(()=>C(void 0,void 0,void 0,function*(){yield document.fonts.ready;let a=new Set;for(let c of K.values())document.fonts.check(`12px "${c}"`)&&a.add(c);console.log("Available Fonts:",[...a.values()]);[...a.values()]}))();e=navigator.plugins.length;let E=[];for(r=0;r<e;r++)v=navigator.plugins[r],E.push({name:v.name,filename:v.filename,type:v[0].type});window.B2MetricEventTracker=window.B2MetricEventTracker||[];window.B2MetricEventTracker=[];let M=new Date,F=[];(function(){return C(this,void 0,void 0,
function*(){yield document.fonts.ready;let a=new Set;for(let c of K.values())document.fonts.check(`12px "${c}"`)&&a.add(c);return[...a.values()]})})().then(a=>F=a);let D=null;var x=new XMLHttpRequest;x.open("GET",document.location,!0);x.send(null);x.onload=function(){D=x.getAllResponseHeaders().toLowerCase()};let J,w=!1;document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState?I():z()});(function(){function a(){m=Date.now();n=0}function c(){let f=Date.now();n+=f-m;m=f}
let b=!1,m=Date.now(),n=0;window.addEventListener("load",a);document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState?a():c()});document.addEventListener("scroll",function(f){b||(c(),90<=(window.scrollY+window.innerHeight)/document.documentElement.offsetHeight*100&&(y({event_name:"scroll",event_date:(new Date).toISOString(),event_timestamp:(new Date).valueOf(),event_params:[{key:"page_title",string_value:document.title},{key:"engagement_time_msec",int_value:n},{key:"timestamp",
int_value:(new Date).toISOString()}]}),a(),b=!0))})})();(function(){document.addEventListener("click",a=>{for(a=a.target;a&&a!==document.body;){if(a.hasAttribute("B2M_BUTTON")){y({event_name:"click",event_date:(new Date).toISOString(),event_timestamp:Math.floor((new Date).getTime()/1E3),event_params:[{key:"page_title",string_value:document.title},{key:"classes",string_value:a.className},{key:"id",string_value:a.id},{key:"tag_name",string_value:a.tagName},{key:"inner_text",string_value:a.innerText.slice(0,
50)}]});break}a=a.parentElement}})})();document.addEventListener("DOMContentLoaded",()=>{{var a=localStorage.getItem("sessionId");let n=parseInt(localStorage.getItem("lastActivity")||"0");var c=Date.now();!a||18E5<c-n?(a=P(),localStorage.setItem("sessionId",a),localStorage.setItem("lastActivity",c.toString()),c={sessionId:a,isNewSession:!0}):(localStorage.setItem("lastActivity",c.toString()),c={sessionId:a,isNewSession:!1})}const {sessionId:b,isNewSession:m}=c;c={eventType:"session_start",timestamp:(new Date).toISOString(),
details:{sessionId:b}};m&&Object.assign(Object.assign({},c),{details:{sessionId:b}});document.addEventListener("focus",I);document.addEventListener("blur",z);document.addEventListener("beforeunload",z);y({event_name:"page_view",event_date:(new Date).toISOString(),event_timestamp:(new Date).valueOf(),event_params:[{key:"page_title",string_value:document.title},{key:"page_url",string_value:location.href},{key:"referrer",string_value:document.referrer}]})})})()
