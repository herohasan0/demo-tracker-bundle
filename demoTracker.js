'use strict';(function(){function H(){function a(d,n){return d>>>n|d<<32-n}for(var b=1,c,e=[],m=[];18>++b;)for(c=b*b;312>c;c+=b)e[c]=1;b=1;for(c=0;313>b;)e[++b]||(m[c]=Math.pow(b,.5)%1*4294967296|0,e[c++]=Math.pow(b,1/3)%1*4294967296|0);return function(d){for(var n=m.slice(b=0),g=unescape(encodeURI(d)),p=[],k=g.length,l=[],h,f;b<k;)l[b>>2]|=(g.charCodeAt(b)&255)<<8*(3-b++%4);k*=8;l[k>>5]|=128<<24-k%32;l[f=k+64>>5|15]=k;for(b=0;b<f;b+=16){for(g=n.slice(c=0,8);64>c;g[4]+=h)p[c]=16>c?l[c+b]:(a(h=p[c-
2],17)^a(h,19)^h>>>10)+(p[c-7]|0)+(a(h=p[c-15],7)^a(h,18)^h>>>3)+(p[c-16]|0),g.unshift((h=(g.pop()+(a(d=g[4],6)^a(d,11)^a(d,25))+((d&g[5]^~d&g[6])+e[c])|0)+(p[c++]|0))+(a(k=g[0],2)^a(k,13)^a(k,22))+(k&g[1]^g[1]&g[2]^g[2]&k));for(c=8;c--;)n[c]=g[c]+n[c]}for(g="";63>c;)g+=(n[++c>>3]>>4*(7-c%8)&15).toString(16);console.log("s",g);return g}}function y(a,b,c,e){function m(d){return d instanceof c?d:new c(function(n){n(d)})}return new (c||(c=Promise))(function(d,n){function g(l){try{k(e.next(l))}catch(h){n(h)}}
function p(l){try{k(e["throw"](l))}catch(h){n(h)}}function k(l){l.done?d(l.value):m(l.value).then(g,p)}k((e=e.apply(a,b||[])).next())})}function w(a){var b=Object,c=b.assign;a=Object.assign({company_id:"b2m_test_website",company_app_name:"b2metric website",task_id:"TRACKER-TEST"},a);var e=navigator.userAgent,m=z,d=JSON.stringify(A),n=String(I.getTimezoneOffset()),g=Intl.DateTimeFormat().resolvedOptions().timeZone,p=`${window.screen.width}x${window.screen.height}x${window.screen.colorDepth}`,k=B,l=
String,h=document.getElementById("myCanvas");console.log("canvas",h);var f=null===h||void 0===h?void 0:h.getContext("2d");f.fillStyle="rgb(255,0,255)";f.beginPath();f.rect(20,20,150,100);f.fill();f.stroke();f.closePath();f.beginPath();f.fillStyle="rgb(0,255,255)";f.arc(50,50,50,0,2*Math.PI,!0);f.fill();f.stroke();f.closePath();f.textBaseline="top";f.font='17px "Arial 17"';f.textBaseline="alphabetic";f.fillStyle="rgb(255,5,5)";f.rotate(.03);f.fillText("abz190#$%^@\u00a3\u00e9\u00fa",4,17);f.fillStyle=
"rgb(155,255,5)";f.shadowBlur=8;f.shadowColor="red";f.fillRect(20,12,100,5);h=null===h||void 0===h?void 0:h.toDataURL();f=0;for(let t=0;t<h.length;t++){let J=h.charCodeAt(t);f=(f<<5)-f+J;f&=f}l=l(f);h=H()(C);a:{try{var r=document.createElement("canvas");var q=!(!window.WebGLRenderingContext||!r.getContext("webgl")&&!r.getContext("experimental-webgl"))}catch(t){q=!1}if(q&&(q=document.createElement("canvas"),r=q.getContext("webgl")||q.getContext("experimental-webgl"))){q=r.getParameter(r.VENDOR);r=
r.getParameter(r.RENDERER);q=`${q} ${r}`;break a}q=null}b=c.call(b,a,{user_browser_info:{user_agent:e,http_accept_headers:m,plugins:d,timezone_offset:n,timezone:g,screen:p,system_fonts:k,hash_of_canvas_fingerprint:l,hash_of_webgl_fingerprint:h,webgl_vendor_renderer:q,dnt_header_enabled:!0,language:navigator.language,platform:navigator.platform,touch_support:String(K),audio_context_fingerprint:D,hardware_concurrency:navigator.hardwareConcurrency,device_memory:navigator.deviceMemory}});fetch("https://tracker.b2metric.com/tracker/tracker/callback",
{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(b),keepalive:!0});b=new Blob([JSON.stringify(b)],{type:"application/json"});navigator.sendBeacon("https://tracker.b2metric.com/tracker/tracker/callback",b)}function L(){return"xxxx-xxxx-xxxx-xxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}function E(){u||(F=Date.now(),u=!0)}function x(){u&&(0<Date.now()-F&&(new Date).toISOString(),u=!1)}var M=function(){function a(p,k){void 0!==d[p]&&"function"===typeof d[p].setValueAtTime&&
d[p].setValueAtTime(k,c.currentTime)}function b(p){for(var k=null,l=4500;5E3>l;l++){var h=p.renderedBuffer.getChannelData(0)[l];k+=Math.abs(h)}n=k.toString();"function"===typeof g&&g(n);d.disconnect()}var c=null,e=null,m=null,d=null,n=null,g=null;return{run:function(p,k=!1){g=p;try{c=new (window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,44100,44100),e=c.currentTime,m=c.createOscillator(),m.type="triangle",m.frequency.setValueAtTime(1E4,e),d=c.createDynamicsCompressor(),a("threshold",
-50),a("knee",40),a("ratio",12),a("reduction",-20),a("attack",0),a("release",.25),m&&d&&c&&(m.connect(d),d.connect(c.destination),m.start(0),c.startRendering(),c.oncomplete=b)}catch(l){if(k)throw l;}}}}();let D="";(()=>{M.run(a=>{D=a})})();let K="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||0<navigator.maxTouchPoints||0<window.navigator.msMaxTouchPoints;(()=>{let a=document.createElement("canvas");a.id="myCanvas";a.hidden=!0;a.width=200;a.height=40;let b=
document.getElementsByTagName("body");0<b.length&&b[0].appendChild(a)})();let C="";(()=>{var a=document.getElementsByTagName("body");0<a.length&&a[0].appendChild(document.createElement("canvas"));a=(void 0).getContext("webgl2")||(void 0).getContext("experimental-webgl2")||(void 0).getContext("webgl")||(void 0).getContext("experimental-webgl")||(void 0).getContext("moz-webgl");try{var b=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,b);var c=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.7321,0]);a.bufferData(a.ARRAY_BUFFER,
c,a.STATIC_DRAW);b.itemSize=3;b.numItems=3;var e=a.createProgram(),m=a.createShader(a.VERTEX_SHADER);a.shaderSource(m,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}");a.compileShader(m);var d=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(d,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}");a.compileShader(d);
a.attachShader(e,m);a.attachShader(e,d);a.linkProgram(e);a.useProgram(e);e.vertexPosAttrib=a.getAttribLocation(e,"attrVertex");e.offsetUniform=a.getUniformLocation(e,"uniformOffset");a.enableVertexAttribArray(e.vertexPosArray);a.vertexAttribPointer(e.vertexPosAttrib,b.itemSize,a.FLOAT,!1,0,0);a.uniform2f(e.offsetUniform,1,1);a.drawArrays(a.TRIANGLE_STRIP,0,b.numItems)}catch(n){}b=new Uint8Array(131072);a.readPixels(0,0,256,128,a.RGBA,a.UNSIGNED_BYTE,b);C=JSON.stringify(b).replace(/,?"[0-9]+":/g,"")})();
"function"===typeof SuppressedError?SuppressedError:function(a,b,c){c=Error(c);return c.name="SuppressedError",c.error=a,c.suppressed=b,c};let G=new Set("Arial;Arial Black;Bahnschrift;Calibri;Cambria;Cambria Math;Candara;Comic Sans MS;Consolas;Constantia;Corbel;Courier New;Ebrima;Franklin Gothic Medium;Gabriola;Gadugi;Georgia;HoloLens MDL2 Assets;Impact;Ink Free;Javanese Text;Leelawadee UI;Lucida Console;Lucida Sans Unicode;Malgun Gothic;Marlett;Microsoft Himalaya;Microsoft JhengHei;Microsoft New Tai Lue;Microsoft PhagsPa;Microsoft Sans Serif;Microsoft Tai Le;Microsoft YaHei;Microsoft Yi Baiti;MingLiU-ExtB;Mongolian Baiti;MS Gothic;MV Boli;Myanmar Text;Nirmala UI;Palatino Linotype;Segoe MDL2 Assets;Segoe Print;Segoe Script;Segoe UI;Segoe UI Historic;Segoe UI Emoji;Segoe UI Symbol;SimSun;Sitka;Sylfaen;Symbol;Tahoma;Times New Roman;Trebuchet MS;Verdana;Webdings;Wingdings;Yu Gothic;American Typewriter;Andale Mono;Arial;Arial Black;Arial Narrow;Arial Rounded MT Bold;Arial Unicode MS;Avenir;Avenir Next;Avenir Next Condensed;Baskerville;Big Caslon;Bodoni 72;Bodoni 72 Oldstyle;Bodoni 72 Smallcaps;Bradley Hand;Brush Script MT;Chalkboard;Chalkboard SE;Chalkduster;Charter;Cochin;Comic Sans MS;Copperplate;Courier;Courier New;Didot;DIN Alternate;DIN Condensed;Futura;Geneva;Georgia;Gill Sans;Helvetica;Helvetica Neue;Herculanum;Hoefler Text;Impact;Lucida Grande;Luminari;Marker Felt;Menlo;Microsoft Sans Serif;Monaco;Noteworthy;Optima;Palatino;Papyrus;Phosphate;Rockwell;Savoye LET;SignPainter;Skia;Snell Roundhand;Tahoma;Times;Times New Roman;Trattatello;Trebuchet MS;Verdana;Zapfino".split(";").sort());
(()=>y(void 0,void 0,void 0,function*(){yield document.fonts.ready;let a=new Set;for(let b of G.values())document.fonts.check(`12px "${b}"`)&&a.add(b);console.log("Available Fonts:",[...a.values()]);[...a.values()]}))();let N=navigator.plugins.length,A=[];for(let a=0;a<N;a++){let b=navigator.plugins[a];A.push({name:b.name,filename:b.filename,type:b[0].type})}window.B2MetricEventTracker=window.B2MetricEventTracker||[];window.B2MetricEventTracker=[];let I=new Date,B=[];(function(){return y(this,void 0,
void 0,function*(){yield document.fonts.ready;let a=new Set;for(let b of G.values())document.fonts.check(`12px "${b}"`)&&a.add(b);return[...a.values()]})})().then(a=>B=a);let z=null;var v=new XMLHttpRequest;v.open("GET",document.location,!0);v.send(null);v.onload=function(){z=v.getAllResponseHeaders().toLowerCase()};let F,u=!1;document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState?E():x()});(function(){function a(){e=Date.now();m=0}function b(){let d=Date.now();m+=
d-e;e=d}let c=!1,e=Date.now(),m=0;window.addEventListener("load",a);document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState?a():b()});document.addEventListener("scroll",function(d){c||(b(),90<=(window.scrollY+window.innerHeight)/document.documentElement.offsetHeight*100&&(w({event_name:"scroll",event_date:(new Date).toISOString(),event_timestamp:(new Date).valueOf(),event_params:[{key:"page_title",string_value:document.title},{key:"engagement_time_msec",int_value:m},
{key:"timestamp",int_value:(new Date).toISOString()}]}),a(),c=!0))})})();(function(){document.addEventListener("click",a=>{for(a=a.target;a&&a!==document.body;){if(a.hasAttribute("B2M_BUTTON")){w({event_name:"click",event_date:(new Date).toISOString(),event_timestamp:Math.floor((new Date).getTime()/1E3),event_params:[{key:"page_title",string_value:document.title},{key:"classes",string_value:a.className},{key:"id",string_value:a.id},{key:"tag_name",string_value:a.tagName},{key:"inner_text",string_value:a.innerText.slice(0,
50)}]});break}a=a.parentElement}})})();document.addEventListener("DOMContentLoaded",()=>{window.addEventListener("focus",E);window.addEventListener("blur",x);window.addEventListener("beforeunload",x);{var a=localStorage.getItem("sessionId");let m=parseInt(localStorage.getItem("lastActivity")||"0");var b=Date.now();!a||18E5<b-m?(a=L(),localStorage.setItem("sessionId",a),localStorage.setItem("lastActivity",b.toString()),b={sessionId:a,isNewSession:!0}):(localStorage.setItem("lastActivity",b.toString()),
b={sessionId:a,isNewSession:!1})}const {sessionId:c,isNewSession:e}=b;b={eventType:"session_start",timestamp:(new Date).toISOString(),details:{sessionId:c}};e&&Object.assign(Object.assign({},b),{details:{sessionId:c}});w({event_name:"page_view",event_date:(new Date).toISOString(),event_timestamp:(new Date).valueOf(),event_params:[{key:"page_title",string_value:document.title},{key:"page_url",string_value:location.href},{key:"referrer",string_value:document.referrer}]})})})()
